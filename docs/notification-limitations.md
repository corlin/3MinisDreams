# 通知功能限制说明

## Android Expo Go 限制

从 Expo SDK 53 开始，`expo-notifications` 的远程推送通知功能在 Expo Go 中被移除。这意味着：

### 受影响的功能
- ❌ 远程推送通知（服务器发送的通知）
- ⚠️ 本地通知功能有限
- ⚠️ 某些通知 API 可能不可用

### 解决方案

#### 1. 开发构建版本（推荐）
使用 Expo 开发构建版本可以获得完整的通知功能：

```bash
# 创建开发构建
npx create-expo-app --template
eas build --profile development --platform android
```

#### 2. 当前实现的兼容性处理
我们的应用已经实现了兼容性处理：

- **Android Expo Go**: 自动禁用通知功能，使用模拟实现
- **iOS Expo Go**: 保持通知功能
- **Web**: 通知功能不可用（浏览器限制）
- **开发构建**: 完整通知功能

### 功能状态

| 平台 | 每日提醒 | 回顾提醒 | 测试通知 | 状态 |
|------|----------|----------|----------|------|
| Android Expo Go | ❌ | ❌ | ❌ | 模拟实现 |
| iOS Expo Go | ✅ | ✅ | ✅ | 正常工作 |
| Android 开发构建 | ✅ | ✅ | ✅ | 完整功能 |
| iOS 开发构建 | ✅ | ✅ | ✅ | 完整功能 |
| Web | ⚠️ | ⚠️ | ✅ | 有限支持 |

### 用户体验

在 Android Expo Go 中：
- 设置页面会显示通知功能限制提示
- 测试通知会显示相应的错误信息
- 其他功能正常工作，不会影响应用使用

在 Web 端：
- 支持即时通知显示
- 支持延时通知（一次性）
- 不支持重复通知（每日提醒）
- 需要用户手动授权通知权限
- 浏览器标签页需要保持活跃状态

### 开发建议

1. **开发阶段**: 可以在 iOS 设备或模拟器上测试通知功能
2. **生产环境**: 使用开发构建版本或独立应用
3. **测试**: 在多个平台上测试以确保兼容性

### 相关链接

- [Expo 通知文档](https://docs.expo.dev/versions/latest/sdk/notifications/)
- [开发构建指南](https://docs.expo.dev/develop/development-builds/introduction/)
- [Expo Go 限制说明](https://docs.expo.dev/workflow/expo-go/)
## Web
端通知详细说明

### 支持的功能
- ✅ 即时通知（测试通知）
- ✅ 延时通知（回顾提醒）
- ⚠️ 每日重复通知（功能有限）

### 限制说明
1. **浏览器权限**：需要用户手动授权通知权限
2. **重复通知**：Web API不支持重复通知，每日提醒只能显示一次
3. **后台运行**：浏览器标签页关闭后通知无法工作
4. **浏览器兼容性**：部分旧版浏览器可能不支持

### 最佳实践
- 在Web端主要用于测试通知功能
- 生产环境建议使用移动端应用
- 确保浏览器支持Notification API